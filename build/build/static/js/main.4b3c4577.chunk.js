(this.webpackJsonpadminpanel=this.webpackJsonpadminpanel||[]).push([[0],{24:function(e,t,a){e.exports=a(65)},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(8),l=a.n(r),c=(a(29),a(30),a(1)),s=a(2),i=a(4),u=a(3),m=(a(31),a(5)),d=a.n(m),h=(a(49),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"Welcome"},o.a.createElement("p",null,"Welcome Lokesh Bolisetty"),o.a.createElement("p",null,"Happy to see you again")))}}]),a}(n.Component)),p=(a(50),a(51),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={CommentCounter:NaN},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),d.a.get("https://authorwrites-blog-api.herokuapp.com/").then((function(t){var a=JSON.parse(JSON.stringify(t));e.setState({CommentCounter:a.data.notes[e.props.cardindex].Comments.length,isLoading:!1})})).catch((function(t){return e.setState({error:t,isLoading:!1})}))}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{className:"btn btn-danger mx-4 my-0.5"},this.state.CommentCounter," Comments"))}}]),a}(n.Component)),g=a(10),b=a(9),E=a.n(b);E.a.setAppElement("#root");var f=function(e){var t=Object(n.useState)(!1),a=Object(g.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)(e.data.value),s=Object(g.a)(c,2);return s[0],s[1],o.a.createElement("div",{className:"Editor"},o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return l(!0)}},"Edit"),o.a.createElement(E.a,{isOpen:r,onRequestClose:function(){return l(!1)}},o.a.createElement("h3",{contentEditable:"true"},e.data.Title),o.a.createElement("h5",{contentEditable:"true"},e.data.Body),o.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){!function(){var t=document.activeElement.parentElement.childNodes[1].innerHTML,a=document.activeElement.parentElement.childNodes[0].innerHTML;d.a.patch("https://authorwrites-blog-api.herokuapp.com/"+e.data._id,[{propName:"Body",value:t},{propName:"Title",value:a}],{headers:{Authorization:"Bearer "+e.token}}).then((function(e){console.log(e),alert("Updated successfully. Refresh to see the changes.")})).catch((function(e){alert("Sorry! Was not able to edit"),console.log(e)})),l(!1)}()}},"Edit Content")))},v="https://authorwrites-blog-api.herokuapp.com/",y=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handledelete=function(){console.log(n.state.blogs._id),d.a.delete(v+n.state.blogs._id,{headers:{Authorization:"Bearer "+n.props.token}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),alert("Deleted Successfully")},n.state={blogs:[],isLoading:!1,error:null},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),d.a.get(v).then((function(t){var a=JSON.parse(JSON.stringify(t));e.setState({blogs:a.data.notes[e.props.index],isLoading:!1})})).catch((function(t){return e.setState({error:t,isLoading:!1})}))}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body my-2"},o.a.createElement("h1",{id:"Title"},this.state.blogs.Title),o.a.createElement("p",null,"Created on ",this.state.blogs.Created),o.a.createElement("p",null,"Last modified on ",this.state.blogs.Updated),o.a.createElement("a",{className:"btn btn-primary mx-4 my-2"},this.state.blogs.Likes," Likes"),o.a.createElement(p,{cardindex:this.props.index}),o.a.createElement("a",{className:"btn btn-primary mx-4 my-2",onClick:this.handledelete},"Delete"),o.a.createElement(f,{data:this.state.blogs,token:this.props.token}))))}}]),a}(n.Component),k=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){for(var e=[],t=0;t<this.props.cards;t++)e.push(o.a.createElement(y,{index:t,key:t,token:this.props.token}));return o.a.createElement("div",null,e)}}]),a}(n.Component),N=(a(63),a(64),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleaddition=function(){var e=document.getElementById("Header"),t=document.getElementById("Content"),a=document.getElementById("Image");d.a.post("https://authorwrites-blog-api.herokuapp.com/",{Title:document.getElementById("Header").value,Body:t.value,Image:a.value},{headers:{Authorization:"Bearer "+n.props.token}}).then((function(e){console.log(e),alert("Blog posted successfully. Refresh to see the changes.")})).catch((function(e){console.log(e),alert("Blog has not been posted. Try logging out and logging in again")})),e.value="",t.value="",a.value=""},n.state={count:0},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),d.a.get("https://authorwrites-blog-api.herokuapp.com/").then((function(t){var a=JSON.parse(JSON.stringify(t));e.setState({count:a.data.count,isLoading:!1})})).catch((function(t){return e.setState({error:t,isLoading:!1})}))}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,"Add a blog"),o.a.createElement("form",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"Header"},"Title"),o.a.createElement("input",{type:"text",className:"form-control",id:"Header",placeholder:"Enter the Title of the blog"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"Content"},"Content"),o.a.createElement("input",{type:"text",className:"form-control",id:"Content",placeholder:"Enter the content of the blog"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"Image"},"Image"),o.a.createElement("input",{type:"text",className:"form-control",id:"Image",placeholder:"Enter the url of an image you want to feature"}))),o.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:this.handleaddition,id:"addtxt"},"Add ",o.a.createElement("span",{className:"badge badge-light"},this.state.count)))}}]),a}(n.Component)),O=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={cardCounter:NaN},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),d.a.get("https://authorwrites-blog-api.herokuapp.com/").then((function(t){var a=JSON.parse(JSON.stringify(t));e.setState({cardCounter:a.data.count,isLoading:!1})})).catch((function(t){return e.setState({error:t,isLoading:!1})}))}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"text"},o.a.createElement("h1",null,"Your Blogs")),o.a.createElement("div",{className:"Cards"},o.a.createElement(k,{cards:this.state.cardCounter,token:this.props.token})),o.a.createElement(N,{token:this.props.token})))}}]),a}(n.Component),C="",j=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).loginhandler=function(){var e=document.activeElement.parentElement.childNodes[1].value,t=document.activeElement.parentElement.childNodes[3].value;d.a.post("https://authorwrites-blog-api.herokuapp.com/login",{email:e,password:t}).then((function(e){e.data.token?(C=e.data.token,n.setState({token:e.data.token})):alert("Wrong mail or password has been entered")})).catch((function(e){console.log(e),alert("Wrong email or password")})),n.setState({token:C})},n.state={token:""},n}return Object(s.a)(a,[{key:"render",value:function(){return""===this.state.token?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"Welcome2"},o.a.createElement("h1",null,"Author writes welcomes you"),o.a.createElement("form",null,o.a.createElement("div",{className:"container"},o.a.createElement("label",{htmlFor:"uname"},o.a.createElement("b",null,"Username")),o.a.createElement("input",{type:"text",placeholder:"Enter Username",name:"uname",required:!0}),o.a.createElement("label",{htmlFor:"psw"},o.a.createElement("b",null,"Password")),o.a.createElement("input",{type:"password",placeholder:"Enter Password",name:"psw",required:!0}),o.a.createElement("button",{type:"button",onClick:this.loginhandler},"Login")),o.a.createElement("div",{className:"container"},o.a.createElement("button",{type:"button",className:"cancelbtn"},"Cancel"))))):o.a.createElement(o.a.Fragment,null,o.a.createElement(h,{token:this.state.token}),o.a.createElement(O,{token:this.state.token}),")")}}]),a}(n.Component);var S=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.4b3c4577.chunk.js.map